
\label{sec:evaluation}

%\shan{1. don't call this ``performance evaluation''. ``Performance'' usually
%means how long it runs.
%2. please don't put a column that shows 0; 3. need to explain the applications briefly; 4. i see many tool paper shows ``case studies''.
%that should be included either here or earlier}

\Tool can be downloaded from IntelliJ plugin repository \cite{downloadPW} %\shan{what is the downloading URL?} 
and easily installed in RubyMine. 
%by  selecting "Install plugin from disk" in RubyMine. 
%There is a compiled JRuby pacakage should be downloaded together in order that PowerStation can establish static analysis based on  dataflow log generated by JRuby.  
%After that, developers can simply start using PowerStation by clicking the analyze and show button on the RubyMine menu.  

We evaluated \Tool using the latest versions of 12 open-source 
Rails applications, including the top two popular applications on Github from 6 categories: Forum, Collaboration, E-commerce, Task-management, Social Network, and Map.
As shown in Table~\ref{tab:perfbug}, \Tool can automatically identify \issueNum inefficiency issues and generate patches for \fixedIssueNum of them (i.e., all but the common sub-expression pattern). We randomly 
sampled and examined half of the reported issues and the suggested fixes,
and found no false positives. %\shan{yes or no?}. 
Due to the limited resource and time, we reported 
\reportedIssue issues with \confirmedIssue of them already confirmed by developers (none
has been denied). 
\Tool static analysis is fast, taking only 12--625 seconds to analyze the entire application
that ranges from 4k to 145k lines of code in our experiments on a Chameleon instance with 128GB RAM and 2 CPUs. 
%This analysis can be done in background while developers working on other projects in the IDE. 
Developers can also choose to analyze one action at a time, which usually takes less than 10 seconds 
in our experiments.
%4663 to 145351 lines of code \shan{How can it be interactive???}.

\begin{table}
\centering
\caption{Inefficiencies detected by \Tool in 12 apps}
% \vspace{-0.15in}
{\small
\label{tab:perfbug}
%\resizebox{0.6\columnwidth}{!}{%
\begin{tabular}{lrrrrrrr}
%{p{0.4cm}R{1cm}R{1cm}R{1.2cm}R{1cm}R{1cm}R{0.8cm}}													
\toprule													
App.	&	Loop   Invariants	&	Unuse  Data	&	Common  Sub-expr	&	API   Misuses	&	Inefficient Render	&	SUM	\\
\midrule													
Ds	&	0	&	16	&	106	&	85	&	0	&	207	\\
\midrule													
Lo	&	0	&	2	&	0	&	45	&	5	&	52	\\
\midrule													
Gi	&	0	&	14	&	92	&	23	&	1	&	130	\\
\midrule													
Re	&	0	&	11	&	101	&	59	&	0	&	171	\\
\midrule													
Sp	&	0	&	22	&	0	&	20	&	0	&	42	\\
\midrule													
Ro	&	0	&	3	&	0	&	11	&	0	&	14	\\
\midrule													
Fu	&	0	&	12	&	15	&	2	&	1	&	30	\\
\midrule													
Tr	&	0	&	23	&	30	&	30	&	1	&	84	\\
\midrule													
Da	&	1	&	55	&	36	&	57	&	0	&	149	\\
\midrule													
On	&	0	&	17	&	39	&	76	&	0	&	132	\\
\midrule													
FF	&	0	&	24	&	12	&	4	&	5	&	45	\\
\midrule													
OS	&	0	&	89	&	60	&	16	&	0	&	165	\\
\midrule													
SUM	&	1	&	288	&	491	&	428	&	13	&	1221	\\					
\bottomrule															
\end{tabular}
%}
}
\end{table}